<div class="jumbotron" *ngIf="post && members">
  <div class="container">
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="row">
          <div class="col-md-8 col-sm-8 pull-left">
            <div class="media-left" *ngIf="profilepic">
              <img id="profilePic" class="media-object img-rounded" [src]="profilepic" alt="...">
            </div>
            <div class="media-body">
              <h4 class="media-heading">
                <a routerLink='../{{members.publisher._id}}'>
                 <b> {{members.publisher.firstName}} {{members.publisher.lastName}} </b> </a>
                <span *ngIf="members.tagged?.length > 0">
                      <span class="text-muted"> with </span>
                <a routerLink='../{{members.tagged[0]._id}}'>
                      {{ members.tagged[0].firstName }} {{ members.tagged[0].lastName }} 
                      </a>
                <span *ngIf="members.tagged?.length == 2">
                        <span class="text-muted"> and </span>
                <a routerLink='../{{ members.tagged[1]._id }}'>
                        {{ members.tagged[1].firstName }} {{ members.tagged[1].lastName }}
                        </a>
                </span>
                <span *ngIf="members.tagged?.length > 2">
                       <span class="text-muted"> and </span>
                <app-userlist [str]='others' [taggedList]="members.tagged.slice(1)"></app-userlist>

                </span>
                </span>
              </h4>
              <h4> <b> {{post.title}} </b> </h4>
              <small class="text-muted">  {{date | date:'mediumDate'}} at  {{date | date:'shortTime'}} </small>
            </div>
          </div>

          <div *ngIf="showmap" id="map" class="col-md-4 col-sm-4 pull-right">
            <agm-map #map [zoom]="zoom" [latitude]="latitude" [longitude]="longitude" (mapClick)='mapClicked($event)'>
              <agm-marker *ngIf="marker" [latitude]="marker.lat" [longitude]="marker.lng">
              </agm-marker>
            </agm-map>
          </div>
        </div>
      </div>
      <div class="panel-body">
        <div *ngFor="let postData of post.data">
          <div *ngIf="postData.text">
              <pre><p>{{postData.text}}</p></pre>
          </div>
          <div *ngIf="postData.imgsUrl">
          <app-gallery [maxPictures] = 2 [datasource]='postData.imgsUrl'></app-gallery>
          </div>
        </div>
        <hr>
        <div class="row">
          <div id = "Like" class= "col-sm-3 col-md-2 col-lg-3">
          <button (click)='like()' class="btn-link"> <div class="textBlack"> <b> <span class="glyphicon glyphicon-thumbs-up"></span> Like</b> </div>
          </button><span class="badge">{{post.likes?.length}}</span>
          </div> 

          <div id= "comment" class= "col-sm-6 col-md-6 col-lg-6">
            <button class="btn-link" (click)='openComments()'> <div class="textBlack"><b> <span class="glyphicon glyphicon-comment"></span> comment </b> </div>
            </button> <span class="badge">4</span>
          </div>
        </div>
      </div>

      <div [hidden]='!showComments' class="panel-footer">
        <div class="media">
          <div class="media-left media-top">
            <a href="#">
              <img id="coomentpic" class="media-object" [src]="profilepic">
            </a>
          </div>
            <div class="media-body">
             
            <textarea #commentInput cols="80%" rows="3" placeholder="write your comment.."></textarea>
            </div>
            </div>
       

      </div>
    </div>
  </div>
</div>